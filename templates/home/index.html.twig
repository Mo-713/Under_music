{% extends 'base.html.twig' %}

{% block stylesheets %}
	{{ encore_entry_link_tags('app') }}
	{{ encore_entry_link_tags('home')}}
{% endblock %}

{% block javascripts %}
	{{ encore_entry_script_tags('app') }}
	{{ encore_entry_script_tags('home') }}

{% endblock %}

{% block title %}{% endblock %}

{% block main %}
	<main>
		<div class="container">
			<h1>Welcome</h1>

			<section class="top-container">
				{# Article principal (le plus r√©cent) #}
				{% set mainArticle = articles[0] %}
				<a 
					class="cards first-article" 
					style="background-image: url('./images/articles/{{ mainArticle.imageName }}')" 
					href="{{ path('app_article', {id: mainArticle.id}) }}"
					aria-label="Lire l'article : {{ mainArticle.title }}">
					<div class="card-content">
						<h2 class="article-title">{{ mainArticle.title }}</h2>
						<p class="card-excerpt">{{ mainArticle.content|slice(0, 150) }}...</p>
					</div>
				</a>

				{# Articles secondaires #}
				<div class="container-top-articles">
					{% for i in 1..2 %}
						{% set article = articles[i] %}
						{% set imageUrl = article.imageName is empty ? './images/articles/default.jpg' : './images/articles/' ~ article.imageName %}
						
						<a 
							class="cards second-one" 
							style="background-image: url('{{ imageUrl }}')" 
							href="{{ path('app_article', {id: article.id}) }}"
							aria-label="Lire l'article : {{ article.title }}">
							<div class="card-content">
								<h3>{{ article.title }}</h3>
								<p class="card-excerpt">{{ article.content|slice(0, 80) }}...</p>
							</div>
						</a>
					{% endfor %}
				</div>
			</section>

			<div class="separator"></div>

			<section class="bottom-container">
				<div class="section-header">
					<h2 class="subtitle">
						<a  href="{{ path('app_listArticles') }}">Other Articles</a>
					</h2>
				</div>

				<div class="container-bottom-articles">
					{% for article in articles|slice(3) %}
						{% set imageUrl = article.imageName is empty ? './images/articles/default.jpg' : './images/articles/' ~ article.imageName %}
						
						<a 
							class="cards bottom-one" 
							style="background-image: url('{{ imageUrl }}')" 
							href="{{ path('app_article', {id: article.id}) }}"
							aria-label="Lire l'article : {{ article.title }}">
							<div class="card-content">
								<h4>{{ article.title }}</h4>
							</div>
						</a>
					{% endfor %}
				</div>
			</section>
		</div>
	</main>
{% endblock %}
